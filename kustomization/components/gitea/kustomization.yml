---
apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component

configMapGenerator:
  - name: postgresql-vector-metrics-sidecar-config
    files:
      - configmap/postgresql/vector.yaml
    options:
      disableNameSuffixHash: true
helmCharts:
  - name: gitea
    version: 10.5.0
    repo: https://dl.gitea.com/charts/
    releaseName: gitea
    valuesFile: values.yml
patches:
  - path: patches/delete_pod_gitea-test-connection.yml
    target:
      kind: Pod
      name: gitea-test-connection
resources:
  - postgresql.yml
